ngApp.controller("myCtrl",["$scope","$timeout","$http",function(e,o,r){var n,t;e.mainLoaderIs=!0,e.allMembersList=[],e.selMembersList=[],e.createdGroupList=[],e.checkRandomNo=[],e.membersCount=5,e.groupsCount=4,e.membersObj={name:"",empId:"",gender:"male",department:""},e.addMembers=function(){console.log("$scope.membersObj",e.membersObj),e.allMembersList.push(angular.copy(e.membersObj)),e.membersObj.name="",e.membersObj.empId="",e.membersObj.gender="male",e.membersObj.department="",e.membersObj.image="",$("#memberAddModal").modal("hide")},e.randomNoCreator=function(){for(var o=e.checkRandomNo,r=o.length;r--;){var n=o.splice(Math.floor(Math.random()*(r+1)),1)[0];return n}},e.autoCreateGroup=function(){for(var o=0;o<e.selMembersList.length;o++)e.checkRandomNo.push(o);for(var r=0;r<e.groupsCount;r++){for(var n=[],t=0;t<e.membersCount;t++){var a=0;if(!(n.length<e.membersCount))break;a=e.randomNoCreator(),n.push(e.selMembersList[a])}e.createdGroupList.push(n)}},e.removeFromSelList=function(o){e.selMembersList.splice(o,1)},e.reloadFun=function(o){"onload"==o?($.getJSON("js/json/membersList.json").then(function(o){e.allMembersList=o}),$.getJSON("js/json/selMembers.json").then(function(o){e.selMembersList=o,e.autoCreateGroup()})):(e.createdGroupList=[],e.checkRandomNo=[],e.membersInGroup=[],e.autoCreateGroup())},e.imageUplading=function(){$("#croppingContainer").show(),n=document.getElementById("imageCroppingBox");var e=document.getElementById("profilePhotoUploader").files[0],o=URL.createObjectURL(e);t=new Croppie(n,{viewport:{width:150,height:150,type:"circle"},boundary:{width:200,height:200},showZoomer:!1}),t.bind({url:o,orientation:4})},e.destroyTheCropping=function(){t.destroy(),$("#profilePhotoUploader").val(null),$("#croppingContainer").hide()},e.cancelAll=function(){$("#croppedImageViewer").hide(),$("#photoUploadingLabel").show()},e.getCroppedImage=function(){t.result("base64").then(function(o){$("#croppedImageViewer img").attr("src",o),e.membersObj.image=o}),t.result("blob").then(function(e){var o=new File([e],"newPhoto.png");console.log("imageFile",o)}),t.destroy(),$("#profilePhotoUploader").val(null),$("#croppingContainer, #photoUploadingLabel").hide(),$("#croppedImageViewer").show()},$("#memberAddModal").on("hide.bs.modal",function(e){$("#profilePhotoUploader").val()&&(t.destroy(),$("#profilePhotoUploader").val(null)),$("#croppingContainer, #croppedImageViewer").hide(),$("#photoUploadingLabel").show()}),o(function(){e.mainLoaderIs=!1},1e3)}]);